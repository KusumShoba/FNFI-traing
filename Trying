using System;
using System.Collections.Generic;
using System.Linq;

public class Program
{
    class StringComparer : IComparer<string>
    {
        public int Compare(string word1compareTo, string word1compareWith)
        {
            var firstWord = word1compareTo.Split("by", StringSplitOptions.TrimEntries);
            var secondWord = word1compareWith.Split("by", StringSplitOptions.TrimEntries);
            if (firstWord[1].CompareTo(secondWord[1]) == 0)
            {
                return firstWord[0].CompareTo(secondWord[0]);
            }
            else
            {
                return firstWord[1].CompareTo(secondWord[1]);
            }
        }
    }

    public static void Main()
    {
        var list = new List<string>
        {
            "The Canterbury Tales by Chaucer",
            "Algorithms by Sedgewick",
            "The C Programming Language by Kernighan and Ritchie"
        };

        list.Sort(new StringComparer());

        foreach (var title in list)
        {
            Console.WriteLine(title);
        }
    }
}
