@page "/claimstatus"
@using ClientApp.Services
@using InsuranceApi.DTOs

@inject IClaimDtoService ClaimService

<h3>Claim Status</h3>

@if (claims == null)
{
    <p>Loading claims...</p>
}
else if (!claims.Any())
{
    <p>No claims found for the specified policy holder.</p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Insurance ID</th>
                <th>Policy Holder ID</th>
                <th>Claim Date</th>
                <th>Claim Amount</th>
                <th>Claim Status</th>
                <th>Dispense Amount</th>
                <th>Dispense Type</th>
                <th>Dispense Path</th>
                <th>Hospital ID</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var claim in claims)
            {
                <tr>
                    <td>@claim.PolicyHolderId</td>
                    <td>@claim.ClaimDate.ToShortDateString()</td>
                    <td>@claim.ClaimAmount</td>
                    <td>@claim.ClaimStatus</td>
                    <td>@claim.DispenseAmount</td>
                    <td>@claim.HospitalId</td>
                </tr>
            }
        </tbody>
    </table>
}

@code {
    // [Parameter]
    // public int policyHolderId { get; set; }

    private List<ClaimDto> claims;

    protected override async Task OnInitializedAsync()
    {
        claims = await ClaimService.GetClaimsByPolicyHolderIdAsync();
    }
}



<div>
    <style>
        /* Table Styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1em;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-width: 400px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
            background-color: #f9f9f9;
        }

        /* Header Styling */
        thead tr {
            background-color: #009879;
            color: #ffffff;
            text-align: left;
            font-weight: bold;
        }

        /* Row Styling */
        tbody tr {
            border-bottom: 1px solid #dddddd;
        }

            tbody tr:nth-of-type(even) {
                background-color: #f3f3f3;
            }

            tbody tr:last-of-type {
                border-bottom: 2px solid #009879;
            }

        /* Sticky Header */
        th {
            position: sticky;
            top: 0;
            background-color: #009879;
            color: #ffffff;
            z-index: 2;
        }

        /* Cell Padding */
        th, td {
            padding: 12px 15px;
        }

        /* Responsive Table Wrapper */
        .table-wrapper {
            overflow-x: auto;
        }

        /* Hover Effects */
        tbody tr:hover {
            background-color: #f1f1f1;
        }

        /* Caption Styling */
        caption {
            caption-side: bottom;
            font-style: italic;
            text-align: right;
            margin-top: 10px;
        }
    </style>
</div>

