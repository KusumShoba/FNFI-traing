using System;
using System.Collections.Generic;
using System.Linq;

public class Program
{
    public static List<string> SortTitles(List<string> titles)
    {
        // Helper function to extract the first author and the title from the input string
        (string firstAuthor, string title) ExtractAuthorAndTitle(string entry)
        {
            string[] parts = entry.Split(new string[] { "\" by " }, StringSplitOptions.None);
            string title = parts[0].Trim('"', ' ');
            string firstAuthor = parts[1].Split(new string[] { " and " }, StringSplitOptions.None)[0];
            return (firstAuthor, title);
        }

        // Create a list of tuples containing (first_author, title)
        var extracted = titles.Select(entry => ExtractAuthorAndTitle(entry)).ToList();

        // Sort the list of tuples first by author and then by title
        var sortedExtracted = extracted.OrderBy(x => x.firstAuthor).ThenBy(x => x.title).ToList();

        // Extract the sorted titles
        var sortedTitles = sortedExtracted.Select(x => x.title).ToList();

        return sortedTitles;
    }

    public static void Main()
    {
        // Sample Input
        List<string> titles = new List<string>
        {
            "\"The Canterbury Tales\" by Chaucer",
            "\"Algorithms\" by Sedgewick",
            "\"The C Programming Language\" by Kernighan and Ritchie"
        };

        // Function call and output
        List<string> sortedTitles = SortTitles(titles);
        foreach (string title in sortedTitles)
        {
            Console.WriteLine(title);
        }
    }
}
