using Microsoft.EntityFrameworkCore;

namespace ExpenseManager.Models
{
    public class ExpenseDbContext : DbContext
    {
        public ExpenseDbContext(DbContextOptions<ExpenseDbContext> options) : base(options) { }

        public DbSet<Expense> Expenses { get; set; }
    }
}







using Microsoft.AspNetCore.Mvc;
using ExpenseManager.Models;
using System.Linq;

namespace ExpenseManager.Controllers
{
    public class ExpenseController : Controller
    {
        private readonly ExpenseDbContext _context;

        public ExpenseController(ExpenseDbContext context)
        {
            _context = context;
        }

        [HttpGet]
        public JsonResult GetAllExpenses()
        {
            var expenses = _context.Expenses.ToList();
            return Json(expenses);
        }

        [HttpGet]
        public JsonResult FindByDate(DateTime date)
        {
            var expenses = _context.Expenses.Where(e => e.Date.Date == date.Date).ToList();
            return Json(expenses);
        }

        [HttpGet]
        public JsonResult FindByDescription(string description)
        {
            var expenses = _context.Expenses.Where(e => e.Description.Contains(description)).ToList();
            return Json(expenses);
        }

        [HttpGet]
        public JsonResult FindByMonth(int month)
        {
            var expenses = _context.Expenses.Where(e => e.Date.Month == month).ToList();
            return Json(expenses);
        }

        [HttpPost]
        public IActionResult AddExpense([FromBody] Expense expense)
        {
            _context.Expenses.Add(expense);
            _context.SaveChanges();
            return Ok("Expense added successfully");
        }
    }
}





<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Expense Manager</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script>
        const baseUrl = "/Expense/";

        function createRow(expense) {
            return `<tr>
                        <td>${expense.description}</td>
                        <td>${expense.amount}</td>
                        <td>${new Date(expense.date).toLocaleDateString()}</td>
                    </tr>`;
        }

        function onGetRecordsSuccess(result) {
            $("table tbody tr").remove();
            result.forEach(expense => {
                const row = createRow(expense);
                $("table tbody").append(row);
            });
        }

        function showRecords() {
            $.get(baseUrl + "GetAllExpenses", onGetRecordsSuccess);
        }

        function findRecordsByDate() {
            const date = $("#txtSearchDate").val();
            $.get(baseUrl + "FindByDate", { date }, onGetRecordsSuccess);
        }

        function findRecordsByDescription() {
            const description = $("#txtSearchDescription").val();
            $.get(baseUrl + "FindByDescription", { description }, onGetRecordsSuccess);
        }

        function findRecordsByMonth() {
            const month = $("#txtSearchMonth").val();
            $.get(baseUrl + "FindByMonth", { month }, onGetRecordsSuccess);
        }

        function addRecord() {
            const expense = {
                description: $("#txtDescription").val(),
                amount: parseFloat($("#txtAmount").val()),
                date: $("#txtDate").val()
            };
            $.ajax({
                url: baseUrl + "AddExpense",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify(expense),
                success: function(res) {
                    alert(res);
                    showRecords();
                }
            });
        }

        function init() {
            $("#btnShow").click(showRecords);
            $("#btnFindByDate").click(findRecordsByDate);
            $("#btnFindByDescription").click(findRecordsByDescription);
            $("#btnFindByMonth").click(findRecordsByMonth);
            $("#btnAdd").click(addRecord);
        }

        $(document).ready(init);
    </script>
</head>
<body>
    <nav class="navbar bg-light">
        <button id="btnShow" class="btn btn-info m-4">Show Records</button>
        <button id="btnFindByDate" class="btn btn-primary m-4">Find by Date</button>
        <button id="btnFindByDescription" class="btn btn-secondary m-4">Find by Description</button>
        <button id="btnFindByMonth" class="btn btn-warning m-4">Find by Month</button>
        <button id="btnAdd" class="btn btn-success m-4">Add Record</button>
    </nav>
    <h1>Personal Expense Manager</h1>
    <hr>
    <div class="container">
        <div class="row mb-4">
            <div class="col-md-4">
                <input type="date" id="txtSearchDate" class="form-control" placeholder="Search by Date" />
            </div>
            <div class="col-md-4">
                <input type="text" id="txtSearchDescription" class="form-control" placeholder="Search by Description" />
            </div>
            <div class="col-md-4">
                <input type="number" id="txtSearchMonth" class="form-control" placeholder="Search by Month" />
            </div>
        </div>
        <div class="row mb-4">
            <div class="col-md-4">
                <input type="text" id="txtDescription" class="form-control" placeholder="Description" />
            </div>
            <div class="col-md-4">
                <input type="number" id="txtAmount" class="form-control" placeholder="Amount" />
            </div>
            <div class="col-md-4">
                <input type="date" id="txtDate" class="form-control" />
            </div>
        </div>
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>Amount</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</body>
</html>
